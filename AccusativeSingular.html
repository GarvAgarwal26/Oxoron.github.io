<!DOCTYPE html>
<html>
	<head>
		<title>
			LT Exercise -- Noun Plurals
		</title>
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="css/tooltip.css">
		<link rel="stylesheet" href="css/ToC.css">
		<link rel="stylesheet" href="css/pageStructure.css">
		
		<script type="text/javascript" src="js/Common.js"> </script>
		
		<script type="text/javascript">
			FocusNextButtonOnPageLoad();
			SetupArrayRandomFunction();
			
			var samplesAsJson = '[{"Ending":"as","Nominative":" parkas","Accusative":" parką"},{"Ending":"as","Nominative":" universitetas","Accusative":" universitetą"},{"Ending":"as","Nominative":" restoranas","Accusative":" restoraną"},{"Ending":"as","Nominative":" baras","Accusative":" barą"},{"Ending":"as","Nominative":" bankas","Accusative":" banką"},{"Ending":"as","Nominative":" knygynas","Accusative":" knygyną"},{"Ending":"as","Nominative":" klubas","Accusative":" klubą"},{"Ending":"as","Nominative":" baseinas","Accusative":" baseiną"},{"Ending":"as","Nominative":" teatras","Accusative":" teatrą"},{"Ending":"as","Nominative":" paštas","Accusative":" paštą"},{"Ending":"as","Nominative":" biuras","Accusative":" biurą"},{"Ending":"as","Nominative":" Kaunas","Accusative":" Kauną"},{"Ending":"is","Nominative":" viešbutis","Accusative":" viešbutį"},{"Ending":"is","Nominative":" bendrabutis","Accusative":" bendrabutį"},{"Ending":"is","Nominative":" stotis","Accusative":" stotį"},{"Ending":"is","Nominative":" pilis","Accusative":" pilį"},{"Ending":"is","Nominative":" Lentvaris","Accusative":" Lentvarį"},{"Ending":"is","Nominative":" Radviliškis","Accusative":" Radviliškį"},{"Ending":"is","Nominative":" Rokiškis","Accusative":" Rokiškį"},{"Ending":"is","Nominative":" Joniškis","Accusative":" Joniškį"},{"Ending":"is","Nominative":" Gelgaudiškis","Accusative":" Gelgaudiškį"},{"Ending":"ys","Nominative":" kambarys","Accusative":" kambarį"},{"Ending":"ys","Nominative":" Panevėžys","Accusative":" Panevėžį"},{"Ending":"ys","Nominative":" Palavlys","Accusative":" Palavlį"},{"Ending":"ys","Nominative":" Švenčionys","Accusative":" Švenčionį"},{"Ending":"ys","Nominative":" Kaisadorys","Accusative":" Kaisadorį"},{"Ending":"ys","Nominative":" Pandėlys","Accusative":" Pandėlį"},{"Ending":"us","Nominative":" muziejus","Accusative":" muziejų"},{"Ending":"us","Nominative":" turgus","Accusative":" turgų"},{"Ending":"us","Nominative":" Vilnius","Accusative":" Vilnių"},{"Ending":"us","Nominative":" Alytus","Accusative":" Alytų"},{"Ending":"us","Nominative":" Subačius","Accusative":" Subačių"},{"Ending":"a","Nominative":" ambasada","Accusative":" ambasadą"},{"Ending":"a","Nominative":" bažničia","Accusative":" bažničią"},{"Ending":"a","Nominative":" biblioteka","Accusative":" biblioteką"},{"Ending":"a","Nominative":" ekskursija","Accusative":" eksjursiją"},{"Ending":"a","Nominative":" karas","Accusative":" karą"},{"Ending":"a","Nominative":" katedra","Accusative":" katedrą"},{"Ending":"a","Nominative":" mokykla","Accusative":" mokyklą"},{"Ending":"a","Nominative":" paskaita","Accusative":" paskaitą"},{"Ending":"a","Nominative":" kirpykla","Accusative":" kirpyklą"},{"Ending":"a","Nominative":" Nida","Accusative":" Nidą"},{"Ending":"ė","Nominative":" kavinė","Accusative":" kavinę"},{"Ending":"ė","Nominative":" kepyklėlė","Accusative":" kepyklėlę"},{"Ending":"ė","Nominative":" ligoninė","Accusative":" ligoninę"},{"Ending":"ė","Nominative":" parduotuvė","Accusative":" parduotuvę"},{"Ending":"ė","Nominative":" rotušė","Accusative":" rotušę"},{"Ending":"ė","Nominative":" stotelė","Accusative":" stotelę"},{"Ending":"ė","Nominative":" upė","Accusative":" upę"},{"Ending":"ė","Nominative":" Tauragė","Accusative":" Tauragę"},{"Ending":"ė","Nominative":" Ukmergė","Accusative":" Ukmergę"},{"Ending":"ė","Nominative":" Plungė","Accusative":" Plungę"}]';
			
			var sampleVerbs = [
				{"Lt":"Einame", "En": "We go (on foot)"}, 
				{"Lt":"Važiuojame", "En" : "We go (on transport)"},
				{"Lt":"Vykstame", "En" : "We move"},
				{"Lt":"Einu", "En": "I go (on foot)"}, 
				{"Lt":"Važiuoju", "En" : "I go (on transport)"},
				{"Lt":"Vykstu", "En" : "I move"}
				];
			
			// Get array of objects {Chunk1, NounToChange, Answer}
			var result = JSON
				.parse(samplesAsJson)
				.GroupBy((elem) => (elem.Ending), "Ending");
			
			var currentSample = result.random().values.random();
			
			function onNextActionButtonClick(){
				// Check if it's answer request or next sample request
				var isAnswerRequest = false;
				var button = document.getElementById('NextActionButton');
				if(button.innerText == 'Check answer') {isAnswerRequest = true;}
				else {isAnswerRequest = false;}
				
				// Call the respective function based on the request type
				if(isAnswerRequest){
					onAnswerRequest();
				}
				else { onNextSampleRequest(); }
			}
			
			
			function onAnswerRequest(){
				// Show answer
				var answerDiv = document.getElementById('Answer');
				answerDiv.innerHTML = currentSample.Accusative;
				
				// Amend button text
				var button = document.getElementById('NextActionButton');			
				button.innerText = 'Next';
			}
			
			function onNextSampleRequest(){
				// Clean up answer
				var answerDiv = document.getElementById('Answer');
				answerDiv.innerHTML = '';
				
				// Amend button text
				var button = document.getElementById('NextActionButton');			
				button.innerText = 'Check answer';
				
				// Setup new sample
				var randomSample = result.random().values.random();
				currentSample = randomSample;
				
				// Setup question div
				var divToAmend = document.getElementById('Question');
				var sampleVerb = sampleVerbs.random();
				divToAmend.innerHTML = '<div class="tooltip">' + sampleVerb.Lt +'  <span class="tooltiptext">' + sampleVerb.En + ' </span> </div>' + " į " + currentSample.Nominative;
			}
		</script>
	</head>
	<body>
		<div id='pageStructure' class="pageStructure">
			<div id='ToC' class='ToC'></div>		
				<script type="text/javascript" src="js/ToC.js"> </script>				
				<script> uploadToC(); </script>
				
			<div id='table' class='content'>
				<div id='Question'>	Einame į Parkas	</div>	
				<div id='Answer'>	Parką	</div>			
				<div id='Button'> 
					<button id='NextActionButton'
						onclick="onNextActionButtonClick()">
						Next
					</button>
				</div>				
			</div>
		</div>
	</body>
</html>

<!DOCTYPE html>
<html>
	<head>
		<title>
			LT Exercise -- Noun Plurals
		</title>
		<link rel="stylesheet" href="css/style.css">
		<script type="text/javascript">
			var samplesAsJson = '[{"Nominative":"parkas","Accusative":" parką"},{"Nominative":"universitetas","Accusative":" universitetą"},{"Nominative":"restoranas","Accusative":" restoraną"},{"Nominative":"baras","Accusative":" barą"},{"Nominative":"bankas","Accusative":" banką"},{"Nominative":"knygynas","Accusative":" knygyną"},{"Nominative":"klubas","Accusative":" klubą"},{"Nominative":"baseinas","Accusative":" baseiną"},{"Nominative":"teatras","Accusative":" teatrą"},{"Nominative":"paštas","Accusative":" paštą"},{"Nominative":"biuras","Accusative":" biurą"},{"Nominative":"Kaunas","Accusative":" Kauną"},{"Nominative":"viešbutis","Accusative":" viešbutį"},{"Nominative":"bendrabutis","Accusative":" bendrabutį"},{"Nominative":"stotis","Accusative":" stotį"},{"Nominative":"pilis","Accusative":" pilį"},{"Nominative":"Lentvaris","Accusative":" Lentvarį"},{"Nominative":"Radviliškis","Accusative":" Radviliškį"},{"Nominative":"Rokiškis","Accusative":" Rokiškį"},{"Nominative":"Joniškis","Accusative":" Joniškį"},{"Nominative":"Gelgaudiškis","Accusative":" Gelgaudiškį"},{"Nominative":"kambarys","Accusative":" kambarį"},{"Nominative":"Panevėžys","Accusative":" Panevėžį"},{"Nominative":"Palavlys","Accusative":" Palavlį"},{"Nominative":"Švenčionys","Accusative":" Švenčionį"},{"Nominative":"Kaisadorys","Accusative":" Kaisadorį"},{"Nominative":"Pandėlys","Accusative":" Pandėlį"},{"Nominative":"muziejus","Accusative":" muziejų"},{"Nominative":"turgus","Accusative":" turgų"},{"Nominative":"Vilnius","Accusative":" Vilnių"},{"Nominative":"Alytus","Accusative":" Alytų"},{"Nominative":"Subačius","Accusative":" Subačių"},{"Nominative":"ambasada","Accusative":" ambasadą"},{"Nominative":"bažničia","Accusative":" bažničią"},{"Nominative":"biblioteka","Accusative":" biblioteką"},{"Nominative":"ekskursija","Accusative":" eksjursiją"},{"Nominative":"karas","Accusative":" karą"},{"Nominative":"katedra","Accusative":" katedrą"},{"Nominative":"mokykla","Accusative":" mokyklą"},{"Nominative":"paskaita","Accusative":" paskaitą"},{"Nominative":"kirpykla","Accusative":" kirpyklą"},{"Nominative":"Nida","Accusative":" Nidą"},{"Nominative":"kavinė","Accusative":" kavinę"},{"Nominative":"kepyklėlė","Accusative":" kepyklėlę"},{"Nominative":"ligoninė","Accusative":" ligoninę"},{"Nominative":"parduotuvė","Accusative":" parduotuvę"},{"Nominative":"rotušė","Accusative":" rotušę"},{"Nominative":"stotelė","Accusative":" stotelę"},{"Nominative":"upė","Accusative":" upę"},{"Nominative":"Tauragė","Accusative":" Tauragę"},{"Nominative":"Ukmergė","Accusative":" Ukmergę"},{"Nominative":"Plungė","Accusative":" Plungę"}]';
			
			var sampleVerbs = ['Einame', 'Považiuojame', 'Povykstame', 'Einu', 'Važiuoju', 'Vykstu'];
			
			// Get array of objects {Chunk1, NounToChange, Answer}
			var result = JSON.parse(samplesAsJson);
			
			var currentSample = result[0];
		
			Array.prototype.random = function () {
			return this[Math.floor((Math.random()*this.length))];
			}
			
			function onNextActionButtonClick(){
				// Check if it's answer request or next sample request
				var isAnswerRequest = false;
				var button = document.getElementById('NextActionButton');
				if(button.innerText == 'Check answer') {isAnswerRequest = true;}
				else {isAnswerRequest = false;}
				
				// Call the respective function based on the request type
				if(isAnswerRequest){
					onAnswerRequest();
				}
				else { onNextSampleRequest(); }
			}
			
			
			function onAnswerRequest(){
				// Show answer
				var answerDiv = document.getElementById('Answer');
				answerDiv.innerHTML = currentSample.Accusative;
				
				// Amend button text
				var button = document.getElementById('NextActionButton');			
				button.innerText = 'Next';
			}
			
			function onNextSampleRequest(){
				// Clean up answer
				var answerDiv = document.getElementById('Answer');
				answerDiv.innerHTML = '';
				
				// Amend button text
				var button = document.getElementById('NextActionButton');			
				button.innerText = 'Check answer';
				
				// Setup new sample
				var randomSample = result.random();
				currentSample = randomSample;
				
				// Setup question div
				var divToAmend = document.getElementById('Question');
				divToAmend.innerHTML = sampleVerbs.random() + " į " + currentSample.Nominative;
			}
		</script>
	</head>
	<body>
		<div id='table'>
			<div id='Question'>	Einame į Parkas	</div>	
			<div id='Answer'>	Parką	</div>			
			<div id='Button'> 
				<button id='NextActionButton'
					onclick="onNextActionButtonClick()">
					Next
				</button>
			</div>
			
		</div>
	</body>
</html>

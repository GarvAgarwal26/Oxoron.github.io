<!DOCTYPE html>
<html>
	<head>
		<title>
			LT Exercise -- A-Type Verbs -- Vocabulary
		</title>
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="css/ToC.css">
		<link rel="stylesheet" href="css/pageStructure.css">
		
		<script type="text/javascript" src="js/Common.js"> </script>
		
		<script type="text/javascript">
			FocusNextButtonOnPageLoad();
			SetupArrayFunctions();
			
			var samplesAsJson = '[{"Infinitive":"dėkoti", "PresentSingleThird":"dėkoja", "Past":"dėkojo", "En":"to thank"},{"Infinitive":"dirbti", "PresentSingleThird":"dirba", "Past":"dirbo", "En":"to work"},{"Infinitive":"klausti", "PresentSingleThird":"klausia", "Past":"klausė", "En":"to ask"},{"Infinitive":"galvoti", "PresentSingleThird":"galvoja", "Past":"galvojo", "En":"to think"},{"Infinitive":"imti", "PresentSingleThird":"ima", "Past":"ėmė", "En":"to take"},{"Infinitive":"aiškinti", "PresentSingleThird":"aiškina", "Past":"aiškino", "En":"to explain"},{"Infinitive":"veikti", "PresentSingleThird":"veikia", "Past":"veikė", "En":"to do"},{"Infinitive":"laukti", "PresentSingleThird":"laukia", "Past":"laukė", "En":"to wait"},{"Infinitive":"plaukti", "PresentSingleThird":"plaukia", "Past":"plaukė", "En":"to sail"},{"Infinitive":"prasidėti", "PresentSingleThird":"prasideda", "Past":"prasidėjo", "En":"to start"},{"Infinitive":"ateiti", "PresentSingleThird":"ateina", "Past":"atėjo", "En":"to visit to come"},{"Infinitive":"augti", "PresentSingleThird":"auga", "Past":"augo", "En":"to grow"},{"Infinitive":"baigti", "PresentSingleThird":"baigia", "Past":"baigė", "En":"to finish/ended"},{"Infinitive":"gyventi", "PresentSingleThird":"givena", "Past":"gyveno", "En":"to live"},{"Infinitive":"kainuoti", "PresentSingleThird":"kainuoja", "Past":"kainavo", "En":"to cost"},{"Infinitive":"dovanoti", "PresentSingleThird":"dovanoja", "Past":"dovanojo", "En":"to make a present"},{"Infinitive":"eiti", "PresentSingleThird":"eina", "Past":"ėjo", "En":"to go on foot"},{"Infinitive":"apsirengti", "PresentSingleThird":"apsirengia", "Past":"apsirengė", "En":"to dress up/to put on"},{"Infinitive":"atiduoti", "PresentSingleThird":"atiduoda", "Past":"atidavė", "En":"to give away back"},{"Infinitive":"atlyginti", "PresentSingleThird":"atlygina", "Past":"atlygino", "En":"to pay back"},{"Infinitive":"atostogauti", "PresentSingleThird":"atostojauja", "Past":"atostogavo", "En":"to holiday"},{"Infinitive":"atsibosti", "PresentSingleThird":"atsibosta", "Past":"atsibodo", "En":"to get bored"},{"Infinitive":"atvažiuoti", "PresentSingleThird":"atvažiuoja", "Past":"atvažiavo", "En":"to come (by transports)"},{"Infinitive":"bėgti", "PresentSingleThird":"bėga", "Past":"bėgo", "En":"to run"},{"Infinitive":"duoti", "PresentSingleThird":"duoda", "Past":"davė", "En":"to give away"},{"Infinitive":"gaminti", "PresentSingleThird":"gamina", "Past":"gamino", "En":"to cook"},{"Infinitive":"gauti", "PresentSingleThird":"gauna", "Past":"gavo", "En":"to get"},{"Infinitive":"gerti", "PresentSingleThird":"geria", "Past":"gėrė", "En":"to drink"},{"Infinitive":"grįžti", "PresentSingleThird":"grįžta", "Past":"grįžo", "En":"to come back"},{"Infinitive":"įsivaizduoti", "PresentSingleThird":"įsivaizduoja", "Past":"įsivaizdavo", "En":"to imagine"},{"Infinitive":"išsinuomoti", "PresentSingleThird":"išsinuomoja", "Past":"išsinuomojo", "En":"to rent"},{"Infinitive":"kalbėti", "PresentSingleThird":"kalba", "Past":"kalbėjo", "En":"to speak"},{"Infinitive":"keliauti", "PresentSingleThird":"keliauja", "Past":"keliavo", "En":"to travel"},{"Infinitive":"kepti", "PresentSingleThird":"kepa", "Past":"kepė", "En":"to bake / to fry"},{"Infinitive":"lipti", "PresentSingleThird":"lipa", "Past":"lipo", "En":"to climb / to go up"},{"Infinitive":"komunikuoti", "PresentSingleThird":"komunikuoja", "Past":"komunikavo", "En":"to communicate"},{"Infinitive":"kopijuoti", "PresentSingleThird":"kopijuoja", "Past":"kopijavo", "En":"to copy"},{"Infinitive":"kvėpuoti", "PresentSingleThird":"kvėpuoja", "Past":"kvėpavo", "En":"to breath"},{"Infinitive":"kviesti", "PresentSingleThird":"kviečia", "Past":"kvietė", "En":"to invite"},{"Infinitive":"leisti", "PresentSingleThird":"leižia", "Past":"leido", "En":"to spend"},{"Infinitive":"mėgti", "PresentSingleThird":"mėgsta", "Past":"", "En":"to like"},{"Infinitive":"miegoti", "PresentSingleThird":"miega", "Past":"", "En":"to sleep"},{"Infinitive":"mokėti", "PresentSingleThird":"moka", "Past":"", "En":"to know"},{"Infinitive":"naudoti", "PresentSingleThird":"naudoja", "Past":"naudojo", "En":"to use"},{"Infinitive":"nutikti", "PresentSingleThird":"nutinka", "Past":"nutiko", "En":"to happen"},{"Infinitive":"parduoti", "PresentSingleThird":"parduoda", "Past":"pardovė", "En":"to sell"},{"Infinitive":"pasiimti", "PresentSingleThird":"pasiima", "Past":"pasiėmė", "En":"to take"},{"Infinitive":"patikti", "PresentSingleThird":"patinka", "Past":"patiko", "En":"to like"},{"Infinitive":"pietauti", "PresentSingleThird":"pietauja", "Past":"pietavo", "En":"to have lunch"},{"Infinitive":"pirkti", "PresentSingleThird":"perka", "Past":"", "En":"to buy"},{"Infinitive":"planuoti", "PresentSingleThird":"planuoja", "Past":"planavo", "En":"to plan"},{"Infinitive":"pradėti", "PresentSingleThird":"pradeda", "Past":"", "En":"to begin"},{"Infinitive":"praleisti", "PresentSingleThird":"prasideda", "Past":"prasidėjo", "En":"to spend"},{"Infinitive":"prekiauti", "PresentSingleThird":"prekiauja", "Past":"prekiavo", "En":"to trade / to sell"},{"Infinitive":"ragauti", "PresentSingleThird":"ragauja", "Past":"ragavo", "En":"to taste / to try"},{"Infinitive":"rasti", "PresentSingleThird":"randa", "Past":"rado", "En":"to find"},{"Infinitive":"rezervuoti", "PresentSingleThird":"rezervuoja", "Past":"rezervavo", "En":"to book"},{"Infinitive":"sirgti", "PresentSingleThird":"serga", "Past":"sergo", "En":"to be ill"},{"Infinitive":"siųsti", "PresentSingleThird":"siunčia", "Past":"", "En":"to send"},{"Infinitive":"skambinti", "PresentSingleThird":"skambina", "Past":"skambino", "En":"to call"},{"Infinitive":"skaudėti", "PresentSingleThird":"skauda", "Past":"skaudėjo", "En":"to hurt"},{"Infinitive":"skinkti", "PresentSingleThird":"slenka", "Past":"slinko", "En":"to pass / to move slowly"},{"Infinitive":"skristi", "PresentSingleThird":"skrenda", "Past":"", "En":"to fly"},{"Infinitive":"skubėti", "PresentSingleThird":"skuba", "Past":"skubėjo", "En":"to hurry"},{"Infinitive":"sportuoti", "PresentSingleThird":"sportuoja", "Past":"sportavo", "En":"to play / do a sport"},{"Infinitive":"studijuoti", "PresentSingleThird":"studijuoja", "Past":"", "En":"to study"},{"Infinitive":"sugesti", "PresentSingleThird":"sugenda", "Past":"sugedo", "En":"to break down"},{"Infinitive":"suprasti", "PresentSingleThird":"supranta", "Past":"", "En":"to understand"},{"Infinitive":"susitikti", "PresentSingleThird":"susitinka", "Past":"susitiko", "En":"to meet"},{"Infinitive":"šviesti", "PresentSingleThird":"šviečia", "Past":"švietė", "En":"to shine"},{"Infinitive":"traukti", "PresentSingleThird":"traukia", "Past":"traukė", "En":"to pull, to attract"},{"Infinitive":"trukti", "PresentSingleThird":"trunka", "Past":"truko", "En":"to last"},{"Infinitive":"važiuoti", "PresentSingleThird":"važiouja", "Past":"", "En":"to go by vehicle"},{"Infinitive":"vėluoti", "PresentSingleThird":"vėluoja", "Past":"vėlavo", "En":"to be late"},{"Infinitive":"virti", "PresentSingleThird":"verda", "Past":"virė", "En":"to cook"},{"Infinitive":"vykti", "PresentSingleThird":"vyksta", "Past":"vyko", "En":"to take place"},{"Infinitive":"žaisti", "PresentSingleThird":"žaidžia", "Past":"žaidė", "En":"to play ( a sport)"}]';
			
			// Setup leveller, content and buttons	
			var samples = JSON.parse(samplesAsJson).filter(verb => !!verb.Past);
			var leveller = CreateLevelledArray(
				samples, 
				elem => 1 + Math.floor(samples.indexOf(elem) / 10)
			); 				
			var content = leveller.GetContent();
			var fullButtonsElementHtml = leveller.RegenerateButtons();

			var currentSample = content[0];
		
			
			function onNextActionButtonClick(){
				// Check if it's answer request or next sample request
				var isAnswerRequest = false;
				var button = document.getElementById('NextActionButton');
				if(button.innerText == 'Check answer') {isAnswerRequest = true;}
				else {isAnswerRequest = false;}
				
				// Call the respective function based on the request type
				if(isAnswerRequest){
					onAnswerRequest();
				}
				else { onNextSampleRequest(); }
			}
			
			// Returns a string containing HTML like <div> Infinitive, Present, Past</div>
			function BuildAnswer(sample){
				var infinitive = "<span style='margin-right:30px'>" + sample.Infinitive + '</span>';
				var present = "<span style='margin-right:30px'>" + sample.PresentSingleThird + '</span>';
				var past = "<span>" + sample.Past + '</span>';
				
				var content = '<div>' + infinitive + present + past + '</div>';
				return content;				
			}

			// Returns a string containing HTML like <div> Verb in Ennglish </div>
			function BuildQuestion(sample){
				return '<div>' + sample.En + '</div>';
			}

			function onAnswerRequest(){
				// Show answer
				var answerDiv = document.getElementById('Answer');
				answerDiv.innerHTML = BuildAnswer(currentSample);
				
				// Amend button text
				var button = document.getElementById('NextActionButton');			
				button.innerText = 'Next';
			}
			
			function onNextSampleRequest(){
				// Clean up answer
				var answerDiv = document.getElementById('Answer');
				answerDiv.innerHTML = '';
				
				// Amend button text
				var button = document.getElementById('NextActionButton');			
				button.innerText = 'Check answer';
				
				// Setup new sample
				var randomSample = content.random();
				currentSample = randomSample;
				
				
				// Setup question div				
				var divToAmend = document.getElementById('Question');				
				divToAmend.innerHTML = BuildQuestion(currentSample);
			}

			function OnLevelButtonClick(button){
				// Setup  level
				leveller.SetupLevel(button.value);

				// Update innerHtml for level buttons div
				let newHtml = leveller.RegenerateButtons("OnLevelButtonClick");
				var buttonsElement = document.getElementById("levelButtonsDiv");
				buttonsElement.innerHTML = newHtml;

				// Update content
				content = leveller.GetContent();

				console.log(content);
			}
		</script>
	</head>
	<body>
		<div id='pageStructure' class="pageStructure">
			<div id='ToC' class='ToC'></div>		
				<script type="text/javascript" src="js/ToC.js"> </script>				
				<script> uploadToC(); </script>
				
			<div id="exercise" class="exercise">
				<div id='table' class='content'>		
					<div id='Question'>	to wait	</div>	
					<div id='Answer'>	laukti laukia laukė	</div>			
					<div id='Button'> 
						<button id='NextActionButton'
							onclick="onNextActionButtonClick()">
							Next
						</button>
					</div>				
				</div>

				
				<div id="levelButtonsDiv" class="levelButtonsDiv">		
				<script>
					var buttonsElement = document.getElementById("levelButtonsDiv");
					buttonsElement.innerHTML = leveller.RegenerateButtons("OnLevelButtonClick");
				</script>
				
			</div>	
		</div>
	</body>
</html>



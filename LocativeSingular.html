<!DOCTYPE html>
<html>
	<head>
		<title>
			LT Exercise -- Locative Singular
		</title>
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="css/tooltip.css">
		<link rel="stylesheet" href="css/ToC.css">
		<link rel="stylesheet" href="css/pageStructure.css">
		
		<script type="text/javascript" src="js/Common.js"> </script>
		
		<script type="text/javascript">
			FocusNextButtonOnPageLoad();
			SetupArrayFunctions();
		
			var samplesAsJson = '[{"Ending": "is", "Nominative": "bendrabutis", "Locative" : "bendrabutyje", "En" : "dormitory"},{"Ending": "is", "Nominative": "viešbutis", "Locative" : "viešbutyje", "En" : "hotel"},{"Ending": "is", "Nominative": "pilis", "Locative" : "pilyje", "En" : "castle"},{"Ending": "is", "Nominative": "naktis", "Locative" : "naktyje", "En" : "night"},{"Ending": "is", "Nominative": "stotis", "Locative" : "stotyje", "En" : "station"},{"Ending": "is", "Nominative": "Lentvaris", "Locative" : "Lentvaryje", "En" : "City in Lithuania"},{"Ending": "is", "Nominative": "Radviliškis", "Locative" : "Radviliškyje", "En" : "City in Lithuania"},{"Ending": "is", "Nominative": "Rokiškis", "Locative" : "Rokiškyje", "En" : "City in Lithuania"},{"Ending": "is", "Nominative": "Joniškis", "Locative" : "Joniškyje", "En" : "City in Lithuania"},{"Ending": "is", "Nominative": "Gelgaudiškis", "Locative" : "Gelgaudiškyje", "En" : "City in Lithuania"},{"Ending": "ys", "Nominative": "kambarys", "Locative" : "kambaryje", "En" : "room"},{"Ending": "us", "Nominative": "muziejus", "Locative" : "muziejuje", "En" : "museum"},{"Ending": "us", "Nominative": "turgus", "Locative" : "turguje", "En" : "market"},{"Ending": "us", "Nominative": "Vilnius", "Locative" : "Vilniuje", "En" : "Capital of Lithuania"},{"Ending": "ys", "Nominative": "Panevėžys", "Locative" : "Panevėžyje", "En" : "City in Lithuania"},{"Ending": "ys", "Nominative": "Švenčionys", "Locative" : "Švenčionyje", "En" : "City in Lithuania"},{"Ending": "ys", "Nominative": "Kaišiadorys", "Locative" : "Kaišiadoryje", "En" : "City in Lithuania"},{"Ending": "us", "Nominative": "Alytus", "Locative" : "Alytuje", "En" : "City in Lithuania"},{"Ending": "us", "Nominative": "Subačius", "Locative" : "Subačiuje", "En" : "CIty in Lithuania"},{"Ending": "as", "Nominative": "universitetas", "Locative" : "universitete", "En" : "university"},{"Ending": "as", "Nominative": "biuras", "Locative" : "biure", "En" : "office"},{"Ending": "as", "Nominative": "bankas", "Locative" : "banke", "En" : "bank"},{"Ending": "as", "Nominative": "prospektas", "Locative" : "prospekte", "En" : "prospect"},{"Ending": "as", "Nominative": "parkas", "Locative" : "parke", "En" : "park"},{"Ending": "as", "Nominative": "bokštas", "Locative" : "bokšte", "En" : "tower"},{"Ending": "as", "Nominative": "restoranas", "Locative" : "restorane", "En" : "restraunt"},{"Ending": "as", "Nominative": "kioskas", "Locative" : "kioske", "En" : "kiosk"},{"Ending": "as", "Nominative": "paminklas", "Locative" : "paminkle", "En" : "monument"},{"Ending": "as", "Nominative": "knygynas", "Locative" : "knygyne", "En" : "book shop"},{"Ending": "as", "Nominative": "namas", "Locative" : "name", "En" : "house"},{"Ending": "as", "Nominative": "paštas", "Locative" : "pašte", "En" : "post"},{"Ending": "as", "Nominative": "teismas", "Locative" : "teisme", "En" : "court"},{"Ending": "as", "Nominative": "butas", "Locative" : "bute", "En" : "flat"},{"Ending": "as", "Nominative": "Kaunas", "Locative" : "Kaune", "En" : "CIty in Lithuania"},{"Ending": "a", "Nominative": "katedra", "Locative" : "katedroje", "En" : "cathedral"},{"Ending": "a", "Nominative": "bažnyčia", "Locative" : "bažnyčioje", "En" : "church"},{"Ending": "a", "Nominative": "sankryža", "Locative" : "sankryžoje", "En" : "crossroad"},{"Ending": "a", "Nominative": "biblioteka", "Locative" : "bibliotekoje", "En" : "library"},{"Ending": "a", "Nominative": "paskaita", "Locative" : "paskaitoje", "En" : "lecture"},{"Ending": "a", "Nominative": "jūra", "Locative" : "jūroje", "En" : "sea"},{"Ending": "a", "Nominative": "poliklinika", "Locative" : "poliklinikoje", "En" : "clinic"},{"Ending": "a", "Nominative": "klinika", "Locative" : "klinikoje", "En" : "clinic"},{"Ending": "a", "Nominative": "perėja", "Locative" : "perėjoje", "En" : "crosswalk"},{"Ending": "a", "Nominative": "Klaipėda", "Locative" : "Klaipėdoje", "En" : "City in Lithuania"},{"Ending": "ė", "Nominative": "kavinė", "Locative" : "kavinėje", "En" : "cafe"},{"Ending": "ė", "Nominative": "aikštė", "Locative" : "aikštėje", "En" : "square"},{"Ending": "ė", "Nominative": "gatvė", "Locative" : "gatvėje", "En" : "street"},{"Ending": "ė", "Nominative": "upė", "Locative" : "upėje", "En" : "river"},{"Ending": "ė", "Nominative": "kepiklėlė", "Locative" : "kepiklėlėje", "En" : "bakery"},{"Ending": "ė", "Nominative": "ligoninė", "Locative" : "ligoninėje", "En" : "clinics"},{"Ending": "ė", "Nominative": "stotelė", "Locative" : "stotelėje", "En" : "bus stop"},{"Ending": "ė", "Nominative": "rotušė", "Locative" : "rotušėje", "En" : "city hall"},{"Ending": "ė", "Nominative": "parduotuvė", "Locative" : "parduotuvėje", "En" : "shop"}]';
			
			var starters = [
				{"Lt":"Aš laukiau", "En": "I wait "}, 
				{"Lt":"Aš dirbu", "En" : "I work "},
				{"Lt":"Mes susitinkame", "En" : "We meet "},				
				{"Lt":"Aš esu", "En": "I am "}
				];
				
			var result = JSON
				.parse(samplesAsJson)
				.GroupBy((elem) => (elem.Ending), "Ending");
			
			var currentSample = result.random().values.random();
			var notification = {};
		
			
			
			function onNextActionButtonClick(){
				// Check if it's answer request or next sample request
				var isAnswerRequest = false;
				var button = document.getElementById('NextActionButton');
				if(button.innerText == 'Check answer') {isAnswerRequest = true;}
				else {isAnswerRequest = false;}
				
				// Call the respective function based on the request type
				if(isAnswerRequest){
					onAnswerRequest();
				}
				else { onNextSampleRequest(); }
			}
			
			
			function onAnswerRequest(){
				// Show answer
				var answerDiv = document.getElementById('Answer');
				answerDiv.innerHTML = currentSample.Locative;
				
				// Amend button text
				var button = document.getElementById('NextActionButton');			
				button.innerText = 'Next';

				// Amend notification
				notification.Answer = currentSample.Locative;
			}
			
			function onNextSampleRequest(){
				// Clean up answer
				var answerDiv = document.getElementById('Answer');
				answerDiv.innerHTML = '';
				
				// Amend button text
				var button = document.getElementById('NextActionButton');			
				button.innerText = 'Check answer';
				
				// Setup new sample
				var randomSample = result.random().values.random();
				currentSample = randomSample;
				
				// Setup question div
				var divToAmend = document.getElementById('Question');
				var starter = starters.random();
				//divToAmend.innerHTML = '<div class="tooltip">' + starter.Lt +'  <span class="tooltiptext"> ' + starter.En + ' </span> </div> ' + currentSample.Nominative;
				divToAmend.innerHTML = '<div class="tooltip">' + starter.Lt +'  <span class="tooltiptext"> ' + starter.En + ' </span> </div> ' + 
				'<div class="tooltip">' + currentSample.Nominative +'  <span class="tooltiptext rightTooltip"> '+ currentSample.En + ' </span> </div> ';

				// Amend notification
				notification.Question = starter.Lt + ' ' + currentSample.Nominative;
				notification.Answer = null;
			}
		</script>
	</head>
	<body>
		<div id='pageStructure' class="pageStructure">
			<div id='ToC' class='ToC'></div>		
				<script type="text/javascript" src="js/ToC.js"> </script>				
				<script> uploadToC(); </script>
				
			<div id='table' class='content'>
				<div id='Question'>	Aš dirbu kepiklėlė	</div>	
				<div id='Answer'>	kepiklėlėje	</div>			
				<div id='Button'> 
					<button id='NextActionButton'
						onclick="onNextActionButtonClick()">
						Next
					</button>
				</div>		
				<div class="issueNotificationDiv">
					<button id='notifyButton'
						onclick="notify(notification.Question, notification.Answer)">
						Tell about an error
					</button>
				</div>			
			</div>
		</div>
	</body>
</html>
